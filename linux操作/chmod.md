# chmod
`chmod` 是 Linux/Unix 系统中用于修改文件或目录权限的命令，其名称源自 **Change Mode**。以下是详细使用方法：

---

### **1. 权限基础概念**
Linux 中每个文件/目录有三类权限，分别对应三种用户：
- **用户（Owner）**：文件所有者
- **组（Group）**：文件所属用户组
- **其他（Others）**：其他用户

每种权限用字符表示：
- `r`：读（Read，数字 `4`）
- `w`：写（Write，数字 `2`）
- `x`：执行（Execute，数字 `1`）
- `-`：无权限（数字 `0`）

---

### **2. 基本语法**
```bash
chmod [选项] 权限模式 文件/目录
```

---

### **3. 权限设置方法**
#### **方法 1：数字模式（常用）**
用 3 位数字分别表示 **用户**、**组**、**其他**的权限，每位是 `r+w+x` 的数字和：
```bash
chmod 755 文件名  # 示例：用户=7(4+2+1)，组和其他=5(4+0+1)
```
常见组合：
- `755`：用户可读/写/执行，组和其他可读/执行（常用于脚本）
- `644`：用户可读/写，组和其他只读（常用于普通文件）
- `777`：所有用户可读/写/执行（⚠️ 不安全，慎用）

#### **方法 2：符号模式**
通过 `u/g/o/a`（用户/组/其他/所有）和 `+/-/=`（添加/删除/设置）操作：
```bash
chmod u+x 脚本.sh    # 给用户添加执行权限
chmod go-w 文件.txt # 移除组和其他用户的写权限
chmod a=rw 文件.txt # 所有用户设置为可读可写
```

---

### **4. 常用选项**
| 选项 | 作用 |
|------|------|
| `-R` | 递归修改目录及其内容权限 |
| `-v` | 显示权限变更详情 |
| `-c` | 仅显示被修改的权限 |

示例：
```bash
chmod -R 755 /path/to/dir  # 递归修改目录权限
```

---

### **5. 实用示例**
#### **场景 1：让脚本可执行**
```bash
chmod +x 脚本.sh    # 所有用户添加执行权限（等价于 a+x）
```

#### **场景 2：保护敏感文件**
```bash
chmod 600 ~/.ssh/id_rsa  # 仅用户可读/写
```

#### **场景 3：共享目录给组用户**
```bash
chmod 775 /shared_dir  # 用户和组可读/写/执行，其他只读/执行
```

---

### **6. 查看权限**
使用 `ls -l` 查看当前权限：
```bash
ls -l 文件名
```
输出示例：
```
-rwxr-xr-- 1 user group 1024 Jan 1 10:00 文件
```
- 第 1 段 `-rwxr-xr--`：  
  `-`（文件类型） + `rwx`（用户） + `r-x`（组） + `r--`（其他）

---

### **7. 注意事项**
1. **root 用户**可以无视权限限制。
2. **目录权限**：  
   - `x` 权限表示可进入目录（如 `cd`）  
   - 目录下的文件操作依赖目录本身的权限。
3. **umask**：默认权限掩码会影响新建文件的权限（通过 `umask` 命令查看）。

---

### **8. 权限数字速查表**
| 数字 | 权限 | 含义         |
|------|------|-------------|
| 0    | `---` | 无权限      |
| 1    | `--x` | 仅执行      |
| 2    | `-w-` | 仅写入      |
| 3    | `-wx` | 写+执行     |
| 4    | `r--` | 仅读取      |
| 5    | `r-x` | 读+执行     |
| 6    | `rw-` | 读+写       |
| 7    | `rwx` | 读+写+执行  |

---

掌握 `chmod` 后，可以精确控制文件访问权限。如果需要更复杂的权限管理（如 ACL），可以进一步学习 `setfacl` 命令！